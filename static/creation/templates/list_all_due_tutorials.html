{% extends 'spoken/templates/base.html' %}
{% load widget_tweaks %}
{% load static %}
{% load cmsdata %}
{% load creationdata %}
{% block title %}Payment Due Tutorials {% endblock %}
{% block uncompresscssblock %}
    <link rel="stylesheet" href="{% static 'spoken/css/flip-scroll.min.css' %}" type="text/css" media="screen" charset="utf-8" />
{% endblock %}
{% block heading %}<i class="fa fa-list-ul"></i> Payment Due Tutorials{% endblock %}
{% block content %}
	<div id="flip-scroll" class="table-responsive">
		<form method="post">
			{% csrf_token %}
	        <table class="paleblue table table-condensed table-bordered table-hover table-striped">
	        {% if not due_tutorials|length %}
	            <tr>
	                <td colspan="5" class="col-center">List is empty!</td>
	            </tr>
	        {% else %}
	            <thead>
	                <th><input type="checkbox" class="all_tutorial_checkbox" name="select_all" title="Select All Tutorials"></th>
	                <th>FOSS</th>
	                <th>Language</th>
	                <th>Tutorial Title</th>
	                <th>Contributor</th>
	                <th>Published At</th>    
	            </thead>
	            <tbody>
	            {% for tutorial in due_tutorials %}
	                <tr class="{% cycle 'odd' 'even' %}">
	                    <td><input type="checkbox" class="tutorial_select_checkbox" name="selected_tutorials" value="{{ tutorial.id }}"></td>
	                    <td>{{ tutorial.tutorial_detail.foss }}</td>
	                    <td>{{ tutorial.language }}</td>
	                    <td>{{ tutorial.tutorial_detail.tutorial }}
	                    <td>{{ tutorial.script_user.first_name }} {{ tutorial.script_user.last_name }}</td>
	                    <td>{{ tutorial.publish_at }}</td>
	                    
	                </tr>
	            {% endfor %}
	            	<tr>
	            		<td colspan="6" class="text-center">
	            			<input type="submit" class="btn btn-primary" value="Initiate Payment"> 
	            		</td>
	            	</tr>
	            </tbody>
	        {% endif %}
	        </table>
	    </form>
    </div>
	<script src="https://code.jquery.com/jquery-3.3.1.min.js"></script>

    <script>

    	$(document).ready(function(){
    		$('.all_tutorial_checkbox').click(function(){
    			$('.tutorial_select_checkbox').prop('checked', $(this).prop('checked'));
    		});
    	});
    </script>
{% endblock %}